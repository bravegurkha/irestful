{
    "name": "authenticated",
    "code": {
        "language": "PHP",
        "class": "iRESTful\\Rodson\\Tests\\Applications\\Tests\\Files\\Codes\\Authenticated"
    },
    "objects": {
        "endpoint": {
            "database": "pdo",
            "properties": {
                "pattern": "pattern",
                "is_user_mandatory": "boolean",
                "params|?": "params[]"
            },
            "methods": {
                "has_method": "endpointHasMethod"
            },
            "samples": [
                {
                    "uuid": "6b7afaaf-b91f-4a1b-88a9-5d5ae8c2608d",
                    "is_user_mandatory": false,
                    "pattern___regex_pattern": null,
                    "pattern___specific_uri": "/my/value",
                    "params": [
                        {
                            "uuid": "4d4ffc9b-03ee-4c7a-99bd-e7f9a83b5bc3",
                            "name": "my_second_param",
                            "pattern___regex_pattern": "[a-z0-9]+",
                            "pattern___specific_value": null,
                            "is_mandatory": true,
                            "created_on": 1470346899
                        },
                        {
                            "uuid": "cdf75f60-6c59-489c-a9eb-fc4080fed3ae",
                            "name": "my_param",
                            "pattern___regex_pattern": null,
                            "pattern___specific_value": "my value",
                            "is_mandatory": false,
                            "created_on": 1470346920
                        }
                    ],
                    "created_on": 1470346929
                }
            ]
        },
        "api": {
            "database": "pdo",
            "properties": {
                "base_url": "base_url",
                "endpoints|?": "endpoint[]"
            },
            "samples": [
                {
                    "uuid": "10010456-29ab-401f-93bc-946cd3fd750a",
                    "base_url": "http://apis.irestful.com",
                    "endpoints": [
                        {
                            "uuid": "6b7afaaf-b91f-4a1b-88a9-5d5ae8c2608d",
                            "is_user_mandatory": false,
                            "pattern___regex_pattern": null,
                            "pattern___specific_uri": "/my/value",
                            "params": [
                                {
                                    "uuid": "4d4ffc9b-03ee-4c7a-99bd-e7f9a83b5bc3",
                                    "name": "my_second_param",
                                    "pattern___regex_pattern": "[a-z0-9]+",
                                    "pattern___specific_value": null,
                                    "is_mandatory": true,
                                    "created_on": 1470347043
                                },
                                {
                                    "uuid": "cdf75f60-6c59-489c-a9eb-fc4080fed3ae",
                                    "name": "my_param",
                                    "pattern___regex_pattern": null,
                                    "pattern___specific_value": "my value",
                                    "is_mandatory": false,
                                    "created_on": 1470347061
                                }
                            ],
                            "created_on": 1470347072
                        }
                    ],
                    "created_on": 1470347090
                }
            ]
        },
        "params": {
            "database": "pdo",
            "properties": {
                "name": "string",
                "pattern": "param_pattern",
                "is_mandatory": "boolean"
            },
            "samples": [
                {
                    "uuid": "4d4ffc9b-03ee-4c7a-99bd-e7f9a83b5bc3",
                    "name": "my_second_param",
                    "pattern___regex_pattern": "[a-z0-9]+",
                    "pattern___specific_value": null,
                    "is_mandatory": true,
                    "created_on": 1470347043
                },
                {
                    "uuid": "cdf75f60-6c59-489c-a9eb-fc4080fed3ae",
                    "name": "my_param",
                    "pattern___regex_pattern": null,
                    "pattern___specific_value": "my value",
                    "is_mandatory": false,
                    "created_on": 1470347061
                }
            ]
        },
        "registration": {
            "database": "pdo",
            "properties": {
                "keyname": "keyname",
                "title": "string",
                "description|?": "string",
                "roles|?": "role[]"
            },
            "samples": [
                {
                    "uuid": "5b3ed235-5d8d-4702-9b92-532003e3bf96",
        			"keyname": "another_registration",
        			"title": "This is a another registration",
        			"description": "This is the description of the another registration",
        			"roles": [
                        {
                            "uuid": "6b7926c6-24df-4626-845c-4e6886231b81",
                			"title": "This is a second role",
                			"description": "This is a second role description.",
                			"permissions": [
                                {
                                    "uuid": "366ffc72-20cd-45a0-9d50-c2636010ea28",
                                    "title": "This is just a title",
                                    "description": "This is just a description",
                                    "can_read": true,
                                    "can_write": false,
                                    "can_delete": false,
                                    "created_on": 1470347181
                                }
                            ],
                			"created_on": 1470347195
                        }
                    ],
        			"created_on": 1470347205
                }
            ]
        },
        "resource": {
            "database": "pdo",
            "properties": {
                "endpoint": "endpoint",
                "owner": "owner",
                "shared_resources|?": "shared_resource[]"
            }
        },
        "shared_resource": {
            "database": "pdo",
            "properties": {
                "permissions|?": "permission[]",
                "owners|?": "owner[]"
            }
        },
        "owner": {
            "database": "pdo",
            "properties": {
                "software": "software",
                "user|?": "user"
            }
        },
        "software": {
            "database": "pdo",
            "properties": {
                "name": "string",
                "credentials": "credentials",
                "roles|?": "role[]"
            }
        },
        "user": {
            "database": "pdo",
            "properties": {
                "name": "string",
                "credentials": "credentials",
                "roles|?": "role[]"
            }
        },
        "role": {
            "database": "pdo",
            "properties": {
                "title": "string",
                "description|?": "string",
                "permissions|?": "permission[]"
            }
        },
        "permission": {
            "database": "pdo",
            "properties": {
                "title": "string",
                "can_read": "boolean",
                "can_write": "boolean",
                "can_delete": "boolean",
                "description|?": "string"
            }
        },
        "pattern": {
            "properties": {
                "regex_pattern|?": "string",
                "specific_uri|?": "uri"
            }
        },
        "param_pattern": {
            "properties": {
                "regex_pattern|?": "string",
                "specific_value|?": "string_numeric"
            },
            "combos": [
                "regex_pattern|specific_value"
            ]
        },
        "credentials": {
            "properties": {
                "username": "string",
                "hashed_password": "string",
                "password|?": "string"
            }
        }
    },
    "controllers": {
        "retrieve": {
            "pattern": "/\\/[a-z]+/s",
            "input": "input",
            "constants": {
                "role_title": "This is a role"
            },
            "http_requests": {
                "retrieve_from_github": {
                    "command": "retrieve http://github.com/myuri:80",
                    "parameters": {
                        "query": {
                            "api_key": "[github_api_key]",
                            "name": "input->name",
                            "another": "my_value"
                        }
                    },
                    "view": "json"
                },
                "insert_user_in_github": {
                    "command": "insert http://github.com/myuri:80",
                    "parameters": {
                        "query": {
                            "another": "my_value"
                        },
                        "request": {
                            "name": "input->name"
                        }
                    },
                    "headers": {
                        "api_key": "[github_api_key]"
                    },
                    "view": "json"
                },
                "delete_user_in_github": {
                    "command": "delete http://github.com/myuri:80",
                    "parameters": {
                        "query": {
                            "another": "my_value"
                        },
                        "request": {
                            "name": "input->name"
                        }
                    },
                    "headers": {
                        "api_key": "[github_api_key]"
                    },
                    "view": "json"
                }
            },
            "instructions": [
                "githubData = execute retrieve_from_github",
                "github = from githubData to endpoint",
                "role = retrieve role by uuid:input->uuid",
                "roleData = from role to data",
                "githubData = from github to data",
                "merged = merge roleData, githubData",

                "execute insert_user_in_github",
                "execute delete_user_in_github",


                "roles = retrieve role from input->min to input->max",
                "anotherRole = retrieve role by title:constants->role_title",
                "multipleRoles = retrieve multiple role by uuid:input->uuids",

                "role = from input to role",
                "insert role",
                "delete role",

                "roles = from input to multiple role",
                "insert roles",
                "delete roles",

                "newRole = from input to role",
                "oldRole = retrieve role by uuid:input->uuid",
                "updatedRole = update oldRole using newRole",
                "insert updatedRole",
                "return merged"
            ],
            "view": "json"
        }
    },
    "adapters": [
        {
            "from": "string",
            "to": "base_url",
            "method": "fromStringToBaseUrl"
        },
        {
            "from": "string",
            "to": "uri",
            "method": "fromStringToUri"
        },
        {
            "from": "string",
            "to": "hashed_password",
            "method": "fromStringToHashedPassword"
        },
        {
            "from": "string",
            "to": "keyname",
            "method": "fromStringToKeyname"
        },
        {
            "from": "string",
            "to": "string_numeric",
            "method": "fromStringToStringNumeric"
        }
    ],
    "databases": {
        "pdo": {
            "type": "relational",
            "driver": "[db-driver]",
            "hostname": "[db-hostname]",
            "credentials": {
                "username": "[db-username]",
                "password": "[db-password]"
            }
        }
    },
    "types": {
        "string_numeric": {
            "database_type": {
                "name": "string",
                "max": 255
            },
            "method": "validateStringNumeric",
            "adapters": {
                "database_to_object": {
                    "from": "string",
                    "to": "string_numeric"
                }
            }
        },
        "base_url": {
            "database_type": {
                "name": "string",
                "max": 255
            },
            "method": "validateBaseUrl",
            "adapters": {
                "database_to_object": {
                    "from": "string",
                    "to": "base_url"
                }
            }
        },
        "uri": {
            "database_type": {
                "name": "string",
                "max": 255
            },
            "method": "validateUri",
            "adapters": {
                "database_to_object": {
                    "from": "string",
                    "to": "uri"
                }
            }
        },
        "keyname": {
            "database_type": {
                "name": "string",
                "max": 255
            },
            "method": "validateKeyname",
            "adapters": {
                "database_to_object": {
                    "from": "string",
                    "to": "keyname"
                }
            }
        },
        "hashed_password": {
            "database_type": {
                "name": "string",
                "max": 255
            },
            "method": "validateHashedPassword",
            "adapters": {
                "database_to_object": {
                    "from": "string",
                    "to": "hashed_password"
                }
            }
        }
    }
}
