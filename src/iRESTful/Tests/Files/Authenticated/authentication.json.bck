{
    "name": "iRESTful/Authenticated",
    "type": "library",
    "url": "http://irestful.com/projects/authenticated",
    "license": "MIT",
    "authors": [
        {
            "name": "Steve Rodrigue",
            "email": "stev.rodr@gmail.com",
            "url": "http://irestful.com"
        }
    ],
    "project": {
        "code": {
            "language": "PHP",
            "class": "Authenticated",
            "file": "Authenticated.php"
        },
        "objects": {
            "endpoint": {
                "database": "pdo",
                "properties": {
                    "pattern": "pattern",
                    "is_user_mandatory": "boolean",
                    "params|?": "params[]"
                },
                "methods": {
                    "has_method": "endpointHasMethod"
                },
                "samples": [
                    {
                        "uuid": "d2044e56-402b-4dbf-a8f8-066dd4a0c7b3",
                        "is_user_mandatory": false,
                        "pattern___regex_pattern": null,
                        "pattern___specific_uri": "/my/value",
                        "params": [
                            {
                                "uuid": "4f126401-5047-41f0-8a04-4cdcad80194e",
                                "name": "my_second_param",
                                "pattern___regex_pattern": "[a-z0-9]+",
                                "pattern___specific_value": null,
                                "is_mandatory": true,
                                "created_on": 1470346899
                            },
                            {
                                "uuid": "7b7132d4-b7bf-427b-9592-2df034676bf9",
                                "name": "my_param",
                                "pattern___regex_pattern": null,
                                "pattern___specific_value": "my value",
                                "is_mandatory": false,
                                "created_on": 1470346920
                            }
                        ],
                        "created_on": 1470346929
                    },
                    {
                        "uuid": "e7bcfff9-2e0f-47f2-8470-91e88594731f",
                        "is_user_mandatory": true,
                        "pattern___regex_pattern": "[.]+",
                        "pattern___specific_uri": null,
                        "params": null,
                        "created_on": 1470346929
                    }
                ]
            },
            "api": {
                "database": "pdo",
                "properties": {
                    "base_url": "base_url",
                    "endpoints|?": "endpoint[]"
                },
                "samples": [
                    {
                        "uuid": "45251b92-8aef-42e1-9684-b8c1e4d0c663",
                        "base_url": "http://apis.irestful.com",
                        "endpoints": [
                            {
                                "uuid": "169ec9a7-f380-4f5d-b96a-aedafca265ed",
                                "is_user_mandatory": false,
                                "pattern___regex_pattern": null,
                                "pattern___specific_uri": "/my/value",
                                "params": [
                                    {
                                        "uuid": "ae5d7a5d-29bd-44b4-bc4f-087d0566936b",
                                        "name": "my_second_param",
                                        "pattern___regex_pattern": "[a-z0-9]+",
                                        "pattern___specific_value": null,
                                        "is_mandatory": true,
                                        "created_on": 1470347043
                                    },
                                    {
                                        "uuid": "bbddb626-f527-4b80-8801-79fe6c53e4ab",
                                        "name": "my_param",
                                        "pattern___regex_pattern": null,
                                        "pattern___specific_value": "my value",
                                        "is_mandatory": false,
                                        "created_on": 1470347061
                                    }
                                ],
                                "created_on": 1470347072
                            }
                        ],
                        "created_on": 1470347090
                    },
                    {
                        "uuid": "859bf659-380e-4c3d-95ab-6f2107ad08a1",
                        "base_url": "http://test.irestful.com",
                        "endpoints": null,
                        "created_on": 1470347090
                    }
                ]
            },
            "params": {
                "database": "pdo",
                "properties": {
                    "name": "string",
                    "pattern": "param_pattern",
                    "is_mandatory": "boolean"
                },
                "samples": [
                    {
                        "uuid": "b2a2f3cf-f534-4eda-b93b-e9b9c84171bb",
                        "name": "my_second_param",
                        "pattern___regex_pattern": "[a-z0-9]+",
                        "pattern___specific_value": null,
                        "is_mandatory": true,
                        "created_on": 1470347043
                    },
                    {
                        "uuid": "d320e2a3-3692-4983-b136-3bbb49be0449",
                        "name": "my_param",
                        "pattern___regex_pattern": null,
                        "pattern___specific_value": "my value",
                        "is_mandatory": false,
                        "created_on": 1470347061
                    }
                ]
            },
            "registration": {
                "database": "pdo",
                "properties": {
                    "keyname": "keyname",
                    "title": "string",
                    "description|?": "string",
                    "roles|?": "role[]"
                },
                "samples": [
                    {
                        "uuid": "47a3667b-1a2a-49d9-9ab7-f46e8e4e6a68",
            			"keyname": "another_registration",
            			"title": "This is a another registration",
            			"description": "This is the description of the another registration",
            			"roles": [
                            {
                                "uuid": "a7a4848f-8c57-44ce-bebc-2a00fef4a15c",
                    			"title": "This is a second role",
                    			"description": "This is a second role description.",
                    			"permissions": [
                                    {
                                        "uuid": "49565d79-4a8b-4984-b577-a36cbc8b6b7c",
                                        "title": "This is just a title",
                                        "description": "This is just a description",
                                        "can_read": true,
                                        "can_write": false,
                                        "can_delete": false,
                                        "created_on": 1470347181
                                    }
                                ],
                    			"created_on": 1470347195
                            }
                        ],
            			"created_on": 1470347205
                    },
                    {
                        "uuid": "0e4ede0e-d2aa-4c9d-97c0-9dd8c4a3a4a5",
            			"keyname": "another_keyname",
            			"title": "This is a another keyname",
            			"description": "This is the description of the another keyname",
            			"roles": null,
            			"created_on": 1470347205
                    }
                ]
            },
            "resource": {
                "database": "pdo",
                "properties": {
                    "endpoint": "endpoint",
                    "owner": "owner",
                    "shared_resources|?": "shared_resource[]"
                },
                "samples": [
                    {
                        "uuid": "c71228f2-0f97-4a35-b630-bfc3dcb14f22",
                        "endpoint": {
                            "uuid": "6b7afaaf-b91f-4a1b-88a9-5d5ae8c2608d",
                            "is_user_mandatory": false,
                            "pattern___regex_pattern": null,
                            "pattern___specific_uri": "/my/value",
                            "params": null,
                            "created_on": 1470346929
                        },
                        "owner": {
                            "uuid": "044d657f-2c7a-47ae-a10c-ea4008424f13",
                            "software": {
                                "uuid": "e21d4c75-8206-4996-a014-aa4ce6acf6b0",
                                "name": "my_software_name",
                                "credentials___username": "my_software_username",
                                "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                                "credentials___password": null,
                                "roles": null,
                                "created_on": 1470347205
                            },
                            "user": {
                                "uuid": "96226c6a-0251-4f76-b6cf-815db07d03a4",
                                "name": "my_username",
                                "credentials___username": "my_user_username",
                                "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                                "credentials___password": null,
                                "roles": null,
                                "created_on": 1470347205
                            },
                            "created_on": 1470347205
                        },
                        "shared_resources": null,
                        "created_on": 1470347205
                    },
                    {
                        "uuid": "6c77253e-cb12-454e-99c9-d886afe5a3fc",
                        "endpoint": {
                            "uuid": "7840acfc-72c0-4275-a240-d601d3f5e864",
                            "is_user_mandatory": true,
                            "pattern___regex_pattern": "[.]+",
                            "pattern___specific_uri": null,
                            "params": null,
                            "created_on": 1470346929
                        },
                        "owner": {
                            "uuid": "5c819992-5f4c-4f79-928b-156e93aee063",
                            "software": {
                                "uuid": "24d6d113-0d5c-4947-bdd9-c20222145d1f",
                                "name": "my_software_name",
                                "credentials___username": "my_software_username",
                                "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                                "credentials___password": null,
                                "roles": null,
                                "created_on": 1470347205
                            },
                            "user": {
                                "uuid": "ae9f2cb0-3be9-437d-877d-290d1bbc8326",
                                "name": "my_username",
                                "credentials___username": "my_user_username",
                                "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                                "credentials___password": null,
                                "roles": null,
                                "created_on": 1470347205
                            },
                            "created_on": 1470347205
                        },
                        "shared_resources": null,
                        "created_on": 1470347205
                    }
                ]
            },
            "shared_resource": {
                "database": "pdo",
                "properties": {
                    "permissions|?": "permission[]",
                    "owners|?": "owner[]"
                },
                "samples": [
                    {
                        "uuid": "fe384b92-fbcd-41e1-b89f-feaa34fea0fc",
                        "permissions": null,
                        "owners": [
                            {
                                "uuid": "f271884d-4ac3-44d7-a26f-14d11faded20",
                                "software": {
                                    "uuid": "eff7f5d8-2cbf-4e95-bd3a-225639c53b3a",
                                    "name": "my_software_name",
                                    "credentials___username": "my_software_username",
                                    "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                                    "credentials___password": null,
                                    "roles": null,
                                    "created_on": 1470347205
                                },
                                "user": {
                                    "uuid": "3c902b3e-11e2-436c-a8f9-25fe273b1d6c",
                                    "name": "my_username",
                                    "credentials___username": "my_user_username",
                                    "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                                    "credentials___password": null,
                                    "roles": null,
                                    "created_on": 1470347205
                                },
                                "created_on": 1470347205
                            }
                        ],
                        "created_on": 1470347205
                    },
                    {
                        "uuid": "5835136d-db5f-42c1-802b-48cfdb41be30",
                        "permissions": [
                            {
                                "uuid": "85e609df-3379-4e5b-a203-bb7b02cf7eec",
                                "title": "This is just a title",
                                "description": "This is just a description",
                                "can_read": true,
                                "can_write": false,
                                "can_delete": false,
                                "created_on": 1470347205
                            }
                        ],
                        "owners": null,
                        "created_on": 1470347205
                    }
                ]
            },
            "owner": {
                "database": "pdo",
                "properties": {
                    "software": "software",
                    "user|?": "user"
                },
                "samples": [
                    {
                        "uuid": "09ec0d2c-66f0-46af-8297-c86a99bd1f70",
                        "software": {
                            "uuid": "49f75754-602a-4b75-a3db-3348972e8be4",
                            "name": "my_software_name",
                            "credentials___username": "my_software_username",
                            "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                            "credentials___password": null,
                            "roles": null,
                            "created_on": 1470347205
                        },
                        "user": {
                            "uuid": "1d380a0b-798a-4277-8878-211de27cfca4",
                            "name": "my_username",
                            "credentials___username": "my_user_username",
                            "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                            "credentials___password": null,
                            "roles": null,
                            "created_on": 1470347205
                        },
                        "created_on": 1470347205
                    },
                    {
                        "uuid": "7c59d995-d37a-4d5f-b7c8-b08334b54d15",
                        "software": {
                            "uuid": "6d3471b8-3b71-449e-9d00-fb74f9306651",
                            "name": "my_software_name",
                            "credentials___username": "my_software_username",
                            "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                            "credentials___password": null,
                            "roles": null,
                            "created_on": 1470347205
                        },
                        "user": null,
                        "created_on": 1470347205
                    }
                ]
            },
            "software": {
                "database": "pdo",
                "properties": {
                    "name": "string",
                    "credentials": "credentials",
                    "roles|?": "role[]"
                },
                "samples": [
                    {
                        "uuid": "00c21a45-8723-4b35-8123-a2c9a892467b",
                        "name": "my_software_name",
                        "credentials___username": "my_software_username",
                        "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                        "credentials___password": null,
                        "roles": null,
                        "created_on": 1470347205
                    },
                    {
                        "uuid": "6c8ae338-d51f-49b3-be09-429c4f308d97",
                        "name": "another_software_name",
                        "credentials___username": "my_software_username",
                        "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                        "credentials___password": null,
                        "roles": null,
                        "created_on": 1470347205
                    }
                ]
            },
            "user": {
                "database": "pdo",
                "properties": {
                    "name": "string",
                    "credentials": "credentials",
                    "roles|?": "role[]"
                },
                "samples": [
                    {
                        "uuid": "15af7532-37d1-4230-a0c6-148678a912b0",
                        "name": "my_username",
                        "credentials___username": "my_user_username",
                        "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                        "credentials___password": null,
                        "roles": null,
                        "created_on": 1470347205
                    },
                    {
                        "uuid": "ca4333ef-67ab-4b28-8ec5-02167c61b05e",
                        "name": "another_username",
                        "credentials___username": "my_user_username",
                        "credentials___hashed_password": "$2y$10$x/U44x/ABmhuUJHgJqcXCOtzfCs6VRbuCHmVA56EfD/AAIyig9CmK",
                        "credentials___password": null,
                        "roles": null,
                        "created_on": 1470347205
                    }
                ]
            },
            "role": {
                "database": "pdo",
                "properties": {
                    "title": "string",
                    "description|?": "string",
                    "permissions|?": "permission[]"
                },
                "samples": [
                    {
                        "uuid": "d53ea156-92e8-4136-a492-049c8eb94382",
                        "title": "This is a role",
                        "description": "This is a role description.",
                        "permissions": [
                            {
                                "uuid": "1c9fb08e-d419-4802-8122-8a90d7c4d22c",
                                "title": "This is just a title",
                                "description": "This is just a description",
                                "can_read": true,
                                "can_write": false,
                                "can_delete": false,
                                "created_on": 1470347205
                            }
                        ],
                        "created_on": 1470347205
                    },
                    {
                        "uuid": "913139c0-586b-4462-a271-ab06e25d1303",
                        "title": "This is an updated role",
                        "description": "This is an updated role description.",
                        "permissions": null,
                        "created_on": 1470347205
                    }
                ]
            },
            "permission": {
                "database": "pdo",
                "properties": {
                    "title": "string",
                    "can_read": "boolean",
                    "can_write": "boolean",
                    "can_delete": "boolean",
                    "description|?": "string"
                },
                "samples": [
                    {
                        "uuid": "8565d73c-3dd2-4a4a-83b4-9a0247108bfa",
                        "title": "This is just a title",
                        "description": "This is just a description",
                        "can_read": true,
                        "can_write": false,
                        "can_delete": false,
                        "created_on": 1470347205
                    },
                    {
                        "uuid": "e4d0aa6c-a12c-43d3-8644-e495f436dba5",
                        "title": "This is just an updated title",
                        "description": "This is just an updated description",
                        "can_read": false,
                        "can_write": true,
                        "can_delete": true,
                        "created_on": 1470347212
                    }
                ]
            },
            "pattern": {
                "properties": {
                    "regex_pattern|?": "string",
                    "specific_uri|?": "uri"
                }
            },
            "param_pattern": {
                "properties": {
                    "regex_pattern|?": "string",
                    "specific_value|?": "string"
                },
                "combos": [
                    "regex_pattern|specific_value"
                ]
            },
            "credentials": {
                "properties": {
                    "username": "string",
                    "hashed_password": "string",
                    "password|?": "string"
                }
            }
        },
        "controllers": {
            "retrieve_by_uuid": {
                "pattern": "retrieve /$container$/$[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}|uuid$",
                "input": "input",
                "instructions": [
                    "entity = retrieve input->container by uuid:input->uuid",
                    "output = from entity to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        "samples = from this to multiple entity",
                        "insert samples",
                        [
                            [
                                "entity = retrieve $each->container by uuid:$each->data->uuid",
                                "compare data to $each"
                            ]
                        ],
                        "delete samples"
                    ]
                ]
            },
            "retrieve_partial_set": {
                "pattern": "retrieve /$container$/partials",
                "input": "input",
                "instructions": [
                    "entitySet = retrieve input->container index input->index amount input->amount",
                    "output = from entitySet to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        "samples = from this to multiple entity",
                        "insert samples",
                        [
                            "entitySet = retrieve $each->container index 0 amount $each->data|length",
                            "data = from entitySet to data",
                            "compare data to $each"
                        ],
                        "delete samples"
                    ]
                ]
            },
            "retrieve_related": {
                "pattern": "retrieve /$master_container$/$master_uuid$/$slave_property$/$slave_container$",
                "input": "input",
                "instructions": [
                    "entities = retrieve input->master_container master-uuid input->master_uuid slave-property input->slave_property slave-container input->slave_container",
                    "output = from entities to data",
                    "return output"
                ],
                "view": "json"
            },
            "retrieve_set": {
                "pattern": "retrieve /$container$",
                "input": "input",
                "instructions": [
                    "entities = retrieve multiple input->container by uuid:input->uuids",
                    "output = from entities to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        "samples = from this to multiple entity",
                        "insert samples",
                        [
                            "entities = retrieve multiple $each->container by uuid:$each->data->uuid",
                            "data = from entities to data",
                            "compare data to $each"
                        ],
                        "delete samples"
                    ]
                ]
            },
            "retrieve_by_keyname": {
                "pattern": "retrieve /$container$/$name$/$value$",
                "input": "input",
                "instructions": [
                    "entity = retrieve input->container by input->name:input->value",
                    "output = from entity to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        "samples = from this to multiple entity",
                        "insert samples",
                        [
                            [
                                "entity = retrieve $each->container by $each->data|property.name:$each->data|property.value",
                                "compare entity to $each"
                            ]
                        ],
                        "delete samples"
                    ]
                ]
            },
            "delete_entity_set": {
                "pattern": "delete /",
                "input": "input",
                "instructions": [
                    "entities = from input to multiple input->container",
                    "delete entities",
                    "output = from entities to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        [
                            [
                                "retrieve $each->container by uuid:$each->data->uuid | not found"
                            ]
                        ]
                    ],
                    [
                        "samples = from this to multiple entity",
                        "insert samples",
                        [
                            [
                                "entity = retrieve $each->container by uuid:$each->data->uuid",
                                "compare entity to $each"
                            ]
                        ],
                        "delete samples",
                        [
                            [
                                "retrieve $each->container by uuid:$each->data->uuid | not found"
                            ]
                        ]
                    ]
                ]
            },
            "delete": {
                "pattern": "delete /$container$/$[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}|uuid$",
                "input": "input",
                "instructions": [
                    "entity = retrieve input->container by uuid:input->uuid",
                    "delete entity",
                    "output = from entity to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        "samples = from this to multiple entity",
                        "insert samples",
                        [
                            [
                                "entity = retrieve $each->container by uuid:$each->data->uuid",
                                "delete entity",
                                "retrieve $each->container by uuid:$each->data->uuid | not found"
                            ]
                        ],
                        "delete samples"
                    ]
                ]
            },
            "insert": {
                "pattern": "insert /$container$",
                "input": "input",
                "instructions": [
                    "entity = from input to input->container",
                    "insert entity",
                    "output = from entity to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        [
                            [
                                "retrieve $each->container by uuid:$each->data->uuid | not found"
                            ]
                        ]
                    ],
                    [
                        [
                            [
                                "sample = from $each->data to $each->container",
                                "insert sample",
                                "entity = retrieve $each->container by uuid:$each->data->uuid",
                                "data = from entity to data",
                                "compare data to $each",
                                "delete sample"
                            ]
                        ]
                    ]
                ]
            },
            "insert_entity_set": {
                "pattern": "insert /",
                "input": "input",
                "instructions": [
                    "entities = from input to multiple input->container",
                    "insert entities",
                    "output = from entities to data",
                    "return output"
                ],
                "view": "json",
                "tests": [
                    [
                        [
                            [
                                "retrieve $each->container by uuid:$each->data->uuid | not found"
                            ]
                        ]
                    ],
                    [
                        "samples = from this to multiple entity",
                        "insert samples",
                        [
                            [
                                "entity = retrieve $each->container by uuid:$each->data->uuid",
                                "data = from entity to data",
                                "compare data to $each"
                            ]
                        ],
                        "delete samples"
                    ]
                ]
            }
        },
        "converters": [
            {
                "from": "string",
                "to": "base_url"
            },
            {
                "from": "string",
                "to": "uri"
            },
            {
                "from": "string",
                "to": "hashed_password"
            },
            {
                "from": "string",
                "to": "keyname"
            }
        ],
        "databases": {
            "pdo": {
                "type": "relational",
                "driver": "[db-driver]",
                "hostname": "[db-hostname]",
                "engine": "[engine]",
                "credentials": {
                    "username": "[db-username]",
                    "password": "[db-password]"
                }
            }
        },
        "types": {
            "base_url": {
                "database_type": {
                    "name": "string",
                    "max": 255
                },
                "method": "validateBaseUrl",
                "converters": {
                    "database_to_object": {
                        "from": "string",
                        "to": "base_url"
                    }
                }
            },
            "uri": {
                "database_type": {
                    "name": "string",
                    "max": 255
                },
                "method": "validateUri",
                "converters": {
                    "database_to_object": {
                        "from": "string",
                        "to": "uri"
                    }
                }
            },
            "keyname": {
                "database_type": {
                    "name": "string",
                    "max": 255
                },
                "method": "validateKeyname",
                "converters": {
                    "database_to_object": {
                        "from": "string",
                        "to": "keyname"
                    }
                }
            },
            "hashed_password": {
                "database_type": {
                    "name": "string",
                    "max": 255
                },
                "method": "validateHashedPassword",
                "converters": {
                    "database_to_object": {
                        "from": "string",
                        "to": "hashed_password"
                    }
                }
            }
        }
    }
}
